## 简介
- http：超文本传输协议，应用最广泛的一种网络协议，是一个基于请求与相应模式的，无状态的，应用层的协议，常基于TCP的连接方式
- https：超文本传输安全协议https经由http通信，但利用SSL/TLS协议来加密数据包
    - https 开发的主要目的是提供对网站服务器的身份认证，保护交换数据的隐私与完整性；
    - https 并不是一个单独协议，而是对工作在一加密连接（TLS/SSL）上的常规http协议的称呼。因此https被称为身披SSL外壳的http

## 报文
- 最直观的差异就是http用明文传输报文，https用密文

## HTTP的缺陷
- 窃听风险：明文传输，第三方可以获取通信内容
- 篡改风险：第三方可以修改通信内容
- 冒充风险：第三方可以冒充他人身份参与通信

## SSL/TLS协议
- 传输层安全协议，其前身安全套接层（SSL）是一种安全协议，目的是为互联网通信，提供安全及数据完整性保障

## SSL协议握手过程
- 开始通信加密前，客户端和服务端首先必须建立连接和交换参数，这个过程叫握手
- 加入客户端叫Alice服务端叫Huai，握手阶段分为五个步骤
    - Alice给出协议版本号，一个客户端生成的随机数，以及客户端支持的加密方法
    - Huai确认双方使用的加密方法，并给出数字证书，以及一个服务器生成的随机数
    - Alice确认数字证书有效，然后生成一个新的随机数，并使用数字证书中的公钥，加密这个随机数，发给Huai
    - Huai使用私钥，获取Alice发来的随机数
    - Alice与Huai根据约定的加密方法，使用前面三个随机数，生成对话秘钥（session key），用来加密接下来的整个对话过程
    
## 私钥的作用
- 握手阶段有三个点需要注意
    - 生成对话的秘钥一共需要三个随机数
    - 握手之后使用对话秘钥加密（对称加密），服务器的公钥与私钥只用于加密和解密对话秘钥（非对称加密），无其他作用
    - 服务器的公钥放在服务器的数字证书之中
- 某些客户想使用外部cdn加快网站访问速度，处于安全考虑不能将私钥交给cdn服务商，这时，完全可以把私钥留在自家服务器，只用来解密对话秘钥，其他步骤交个cdn服务商

